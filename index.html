<!DOCTYPE html>
<html ng-app="gisApp">
<head>
    <title></title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="src/css/gis.css">
    <link rel="stylesheet" href="src/materialize/css/materialize.css">
    <style type="text/css">
        html, body, #map_canvas {
            height: 100%;
            width: 100%;
            margin: 0px;
        }

        #map_canvas {
            position: relative;
        }

        .angular-google-map-container {
            position: absolute;
            top: 64px;
            bottom: 0;
            right: 0;
            left: 0;
        }

        .marker-labels {
            background-color: white;
            border: 1px solid black;
            color: red;
            font-family: "Lucida Grande", "Arial", sans-serif;
            font-size: 10px;
            font-weight: bold;
            text-align: center;
            white-space: nowrap;
        }

        .menu-container{
            height:calc(100% - 64px);
            padding: 10px !important;
            z-index: 1;
        }
        
        .top-main-header {
            z-index: 3;
        }


        .left-menu-container {
            position: absolute;
            padding: 0 !important;
            z-index: 2;
            top:150px;
        }

        .left-menu-container-show{
            height:calc(100% - 165px);
        }

        .main-filter-content-show
        {
            height:calc(100% - 125px);
            overflow-y:auto;padding:0px;
            padding: 0  !important;
        }

        .select-dropdown{
            margin:0px !important;
        }

    </style>
</head>
<body ng-controller="firstController">
<nav class=" teal lighten-2" role="navigation">
    <div class="nav-wrapper" style="padding-left: 14px;padding-right: 14px">
        <a id="logo-container" href="#" class="brand-logo">Geographical Information System</a>
        <ul class="right hide-on-med-and-down">
            <li ng-repeat="obj in organization_type_list" ng-class="{'active':(obj._id==organization_type)}">
                <a ng-click="organizationTypeClick(obj._id)" >{{obj.name}}</a></li>
            </li>
        </ul>
        <ul id="nav-mobile" class="side-nav">
            <li ng-repeat="obj in organization_type_list" ng-class="{'active':(obj._id==organization_type)}">
                <a ng-click="organizationTypeClick(obj._id)">{{obj.name}}</a></li>
            </li>
        </ul>
        <a href="#" class="button-collapse" data-activates="nav-mobile" data-sidenav="left" data-closeonclick="false">
            <i class="material-icons">menu</i>
        </a>
    </div>
</nav>
<div>
    <div class="row">
        <div class="col s12 menu-container">
            <div style="margin:0px;" class="top-main-header card">
                <div class="card-action" style="padding:10px;height:65px;">
                    <div class="col s2" style="padding-left:0px;">
                        <select style="margin:0px;" ng-model="filter.province" ng-change="ddlProvince_change()" material-select watch>
                            <option value="0" disabled selected>Choose Province</option>
                            <option value="{{ obj.id }}" ng-repeat="obj in province_list">{{obj.name}}</option>
                        </select>
                    </div>
                    <div class="col s2" style="padding-left:0px;">
                        <select style="margin:0px;" ng-model="filter.city" material-select watch>
                            <option value="0" disabled selected>Choose City</option>
                            <option value="{{ obj.id }}" ng-repeat="obj in city_list">{{obj.type+' '+obj.name}}</option>
                        </select>
                    </div>
                    <div class="col s2" style="padding-left:0px;padding-top:12px;">
                        <input type="checkbox" class="filled-in" id="cbxHeadQuarterOnly">
                        <label for="cbxHeadQuarterOnly" style="color:rgba(0, 0, 0, 0.87)">Headquarter Only</label>
                    </div>
                    <div class="col s2" style="padding-left:0px;">
                        <select style="margin:0px;" material-select watch ng-model="filter.type" ng-change="ddlType_change()" >
                            <option value="0" disabled selected>Choose Type</option>
                            <option value="All">All</option>
                            <option value="{{ obj._id }}" ng-repeat="obj in type_list">{{obj.name}}</option>
                        </select>
                    </div>
                    <div class="col s2" style="padding-left:0px;">
                        <select style="margin:0px;" material-select watch ng-model="filter.sub_type">
                            <option value="0" disabled selected>Choose Sub Type</option>
                            <option value="All">All</option>
                            <option value="{{ obj._id }}" ng-repeat="obj in sub_type_list">{{obj.name}}</option>
                        </select>
                    </div>
                    <div class="col s2" style="padding-left:0px;">
                        <select style="margin:0px;" material-select watch ng-model="filter.conventional_type">
                            <option value="0" disabled selected>Choose Conventional</option>
                            <option value="All">All</option>
                            <option value="{{ obj._id }}" ng-repeat="obj in conventional_type_list">{{obj.name}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div style="margin:0px;" class="left-menu-container card" ng-class="{'left-menu-container-show col l3 m5 s9 ':IsFilterShow}">
                <div class="card-action">
                    <div class="switch">
                        <label>
                            Hide
                            <input type="checkbox" ng-click="showFilterClick($event)" ng-checked="IsFilterShow">
                            <span class="lever"></span>
                            Show
                        </label>
                    </div>
                </div>
                <div class="card-content" ng-class="{'main-filter-content-show':IsFilterShow}" ng-show="IsFilterShow">
                    <ul class="collection" style="margin:0px;">
                        <li class="collection-item">
                            <input type="checkbox" ng-click="selectAll($event)" class="filled-in" id="checkbox-all" ng-checked="isSelectedAll()" >
                            <label for="checkbox-all">All</label>
                        </li>
                        <li class="collection-item" ng-repeat="obj in general_organization_name_list">
                            <input class="filled-in"
                                   type="checkbox"
                                   name="selected_organization[]"
                                   ng-checked="filter_organization.indexOf(obj._id) > -1"
                                   ng-click="filterCheckboxOrganizationClick($event,obj._id)"
                                   ng-attr-id="{{ 'cbx-' + obj._id }}"
                            >
                            <label ng-attr-for="{{ 'cbx-' + obj._id }}">{{obj.name}}</label>
                        </li>
                    </ul>
                </div>
                <div class="card-action" style="text-align: right;padding-top: 11px;" ng-show="IsFilterShow">
                    <button class="btn waves-effect waves-light" ng-click="doSearch2()" name="action">Search
                        <i class="material-icons right">search</i>
                    </button>
                </div>
            </div>

        </div>
    </div>
</div>

<ui-gmap-google-map center='map.center' zoom='map.zoom' options="options" style="z-index:10">
    <ui-gmap-markers models="marker" idkey="'_id'" coords="'coord'" click="onClick" events="markers.events"
                     labelContent='"name"' labelClass='"marker-labels"' icon="'icon_image'">
        <ui-gmap-windows show="show">
            <div ng-non-bindable>
                <h3>{{name}}</h3>
                <p>{{address}}</p>
                <p>{{telp}}</p>
                <p>{{website}}</p>
                <p>{{fs}}</p>
            </div>
        </ui-gmap-windows>
    </ui-gmap-markers>
</ui-gmap-google-map>

<script src='src/js/jquery-2.2.2.min.js'></script>
<script src='node_modules/lodash/lodash.min.js'></script>
<script src='node_modules/angular/angular.min.js'></script>
<script src='node_modules/angular-resource/angular-resource.min.js'></script>
<script src='node_modules/angular-simple-logger/dist/angular-simple-logger.min.js'></script>
<script src='node_modules/angular-google-maps/dist/angular-google-maps.min.js'></script>
<script src='node_modules/angular-materialize/src/angular-materialize.js'></script>
<script src='src/materialize/js/materialize.min.js'></script>

<script src="src/js/adira_data.js"></script>
<script src="src/js/app.js"></script>
<script src="src/js/factory.js"></script>
<script src="src/js/controller.js"></script>

</body>
</html>

